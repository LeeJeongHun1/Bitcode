<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "kr.co.bitcode.repository.mapper.CodeBoardMapper">
	<resultMap id="codeBoardMap" type="codeBoard">
		<result column="no" property="no" />
		<result column="group_no" property="groupNo" />
		<result column="group_order" property="groupOrder" />
		<result column="depth" property="depth" />
		<result column="id" property="id" />
		<result column="language_code" property="languageCode" />
		<result column="title" property="title" />
		<result column="content" property="content" />
		<result column="reg_date" property="regDate" />
		<result column="view_cnt" property="viewCnt" />
		<result column="like_cnt" property="likeCnt" />
	</resultMap>
		
		<select id="selectBoard" resultMap="codeBoardMap">
			select *
			  from tb_code_board
			 order by no desc
		</select>
		
		<insert id="insertBoard" parameterType="codeBoard">
		   <selectKey keyProperty="no" resultType="int" order="AFTER">
    		SELECT LAST_INSERT_ID()
  		   </selectKey>
			insert into tb_code_board (
						  group_no,
                          id,
                          language_code,
                          title,
                          content
                            ) values (
                            #{no},
                            #{id},
                            #{languageCode},
                            #{title},
                            #{content}
                            );
		</insert>
		
		<select id="selectBoardByNo" parameterType="int" resultMap="codeBoardMap">
	    	select *
	    	  from tb_code_board
	    	 where no = #{no} 
	    </select>	
	    
	    <update id="updateBoardViewCnt" parameterType="int">
	    	update tb_code_board
	    	   set view_cnt = view_cnt + 1
	    	 where no = #{no}
	    </update>
	
	
	
	
	
		

</mapper>